# Окружение
- php 7.4
- mysql 8
- apache 2.4.54
- CsCart 4.16.1 (Язык en)
- Интерфейс для взаимодействия с бд: phpMyAdmin, MySqlWorkBench
- Администратор:


    email: sodaler779@mail.ru
    password: sodaler779
    

- Информация, как развернуть приложение, запустить тесты располагается по пути: var/additional/Readme.md
- Дамп БД располагается по пути: var/backups/simtech_dev.sql

# Задачи

## Задача 1: Подготовка модуля.

1. Техническое задание:
- Создать и настроить конфигурационный файл
- Реализовать архитектуру БД
- Первая таблица должна содержать следующие поля: id, статус, дата создания, пользователи, id директора.
- Вторая таблица должна содержать следующие поля: id, код языка, название отдела, описание

2. Тест кейс:
- Авторизоваться в системе, как администратор
- Нажать на Add-ons
- Установить модуль Departments
- Убедиться, что таблицы автоматически создались
- Таблицы должны содержать поля из ТЗ, удостовериться в этом

Ожидаемый результат:

Модуль имеется в списке доступных. Модуль устанавливается без ошибок. Таблицы автоматически создаются при установке.

Фактический результат:

Фактический результат соответствует ожидаемому.

3. Оценка по времени:

3 часа

4. Начало выполнения задачи:

04.02.2023 16:00

5. Дата окончания выполнения задачи:

04.02.2023 18:39


## Задача 2: Отображение отделов в админ-панеле.

1. Техническое задание:
- Создать новую страницу для отображения отделов
- Реализовать функцию для получения данных из БД
- Реализовать логику для передачи данных на view
- Добавить ссылку в меню для отделов

Особенности:
- На странице каждый отдел должен содержать: checkbox для массового выбора, логотип, название, дату создания, статус, кнопку с выпадающим списком для последующего удаления или редактирования (только визуальный элемент без логики).
- В верхней правой части, должна быть кнопка для создания нового отдела, также кнопка с выпадающим списком для массового удаления. Реализовать, как визуальные элементы для последующего применения логики к данным элементам.
- Должна присутствовать пагинация отделов
- Определить dispatch
- По нажатию на название отдела, должен быть переход на другую страницу, на данном этапе продумать dispatch
- При нажатии на поля Name, Creation date, Status происходит сортировка отделов по выбранному полю


2. Тест-кейс:

- Предварительно создать несколько записей в СУБД или через консоль
- Авторизоваться в системе, как администратор
- Перейти к странице отделов через меню
- Убедиться, что отделы отображаются без ошибок
- Убедиться, что присутствуют все элементы из ТЗ
- Нажать на название отдела
- Перенаправление на несуществующую страницу
- Проверить, что dispatch равен profiles.update_department&department_id=<...>
- На странице отделов переключить статус у любого отдела
- Статус меняется на выбранный
- При нажатии на кнопки создания, редактирования меняется dispatch, но страниц пока что нет.
- Нажать на поле Name
- Убедиться в работоспособности сортировки
- Нажать на Creation date
- Убедиться в работоспособности сортировки
- Нажать на Status
- Убедиться в работоспособности сортировки

Ожидаемый результат:

Отделы отображаются в полном объеме без ошибок. Продуманы dispatch при нажатии на кнопки создания/редактирования/названия отдела. Сортировка работает исправно.

Фактический результат:

Отделы отображаются без ошибок, dispatch продуманы. Сортировка по полям работает исправно.

3. Оценка по времени:

4 часа

4. Дата начала:

05.02.2023 12:00

5. Дата окончания задачи:

05.02.2023 15:42

## Задача 3: Создание/редактирование отдела.

1. Техническое задание:
- Создать новую страницу для создания/редактирования отдела
- Реализовать функции для обновления отдела, получения данных по конкретному отделу
- Реализовать логику обновления отдела

Особенности:
- На странице создания нового отдела должны быть следующие поля для заполнения: название (обязательно для заполнения), изображение, описание, статус (обязательно для заполнения), пикер сотрудников
- На странице редактирования отдела также должна присутствовать дата создания отдела (только для чтения).
- Пикер сотрудников должен выводить пользователей типа Customers, в пикере можно выбрать несколько сотрудников.

2. Тест-кейс:

- Авторизоваться в системе, как администратор
- Перейти к странице отделов через меню
- Убедиться, что отделы отображаются без ошибок
- Убедиться, что присутствуют кнопки для создания и редактирования отделов
- Нажать на кнопку создания отдела
- Убедиться, что произошел переход на страницу создания и присутствуют поля для заполнения
- Заполнить поля данными
- Нажать на кнопку Create
- Убедиться, что отдел создался и отображаются сохраненные данные
- Перейти на страницу отделов
- Убедиться, что после нажатия на название отдела, кнопку с выпадающим списком с пунктом edit идет переадресация на страницу редактирования отдела
- Проверить, что страница открывается без ошибок
- Проверить, что имеются введенные раннее данные
- Проверить, что выводится дата создания
- Изменить данные
- Нажать на кнопку Save
- Убедиться, что данные изменились

Ожидаемый результат:

Кнопки для редактирования, создания работают без ошибок. Страница создания, редактирования открываются без ошибок и имеют нужные поля. После создание/редактирования, отдел обновляется.

Фактический результат:

Кнопки перенаправляют на нужную страницу. Страницы отображаются корректно. Создание, редактирование отделов работают успешно.

3. Оценка по времени:

3 часа

4. Дата начала:

05.02.2023 19:12

5. Дата окончания задачи:

05.02.2023 22:03

## Задача 4: Удаление отдела.

1. Техническое задание:
- Реализовать функцию для удаления отдела
- Реализовать логику для удаления отдела
- Реализовать логику для массового удаления отделов

2. Тест кейс:
- Авторизоваться в системе, как администратор
- Перейти к странице отделов через меню
- Убедиться, что отделы отображаются без ошибок
- Нажать на выпадающий список возле отдела
- Нажать на элемент Delete
- Убедиться, что отдел удалился
- Выбрать несколько отделов через checkbox
- Нажать на выпадающий список в верхнем правом углу
- Нажать на элемент Delete selected
- Убедиться, что выбранные отделы удалились

Ожидаемый результат:

Отдел удаляется без ошибок. Работает массовое удаление через checkbox без ошибок.

Фактический результат:

Отдел удаляется успешно, также массовое удаление работает исправно.

3. Оценка по времени:

1.5 часа

4. Начало выполнения задачи:

07.02.2023 13:00

5. Дата окончания выполнения задачи:

07.02.2023 13:54

## Задача 5: Расширение функционала создания/редактирования отдела. Добавление пикера руководителей (администраторов)

1. Техническое задание:
- Реализовать кастомный пикер для администраторов
- Создать шаблон выбираемого контента
- Создать шаблон для самого пикера
- Реализовать логику для пикера с выбором только администраторов
- Встроить пикер в шаблон создания/редактирования отделов
- В пикере можно выбрать только одного администратора через radiobutton, за которым закрепляется данный отдел

2. Тест кейс:
- Авторизоваться в системе, как администратор
- Перейти к странице отделов через меню
- Убедиться, что отделы отображаются без ошибок
- Нажать на кнопку "+"
- Заполнить обязательные поля данными
- Нажать на кнопку Add director в поле director
- Убедиться, что открылось окно 
- Убедиться, что выводятся администраторы
- Выбрать одного администратора
- Нажать на кнопку Choose
- Убедиться, что в поле Director отображается имя администратора
- Нажать на кнопку Create
- Нажать на название созданного отдела
- Убедиться, что в поле Director отображается раннее выбранный администратор
- Нажать на кнопку Add director
- Выбрать другого администратора
- Нажать на кнопку Choose
- Убедиться, что выводится имя нового администратора
- Нажать на кнопку Save
- Убедиться, что в поле Director имя нового администратора

Ожидаемый результат:

Пикер администраторов работает без ошибок. В нем отображаются администраторы. Администраторы сохраняются корректно.

Фактический результат:

Пикер администраторов отображается. Администраторы также отображаются. Администратор сохраняется успешно. Смена администратора работает корректно.

3. Оценка по времени:

4 часа

4. Начало выполнения задачи:

07.02.2023 15:10

5. Дата окончания выполнения задачи:

07.02.2023 19:03

## Задача 6: Расширение функционала отображения отделов. Добавление формы поиска.

1. Техническое задание:
- Создать шаблон для поиска
- Встроить шаблон поиска в шаблон отображения отделов

Особенности:
- Реализовать возможность поиска по 2 полям: название отдела и статус отдела
- Статус отдела реализовать в виде выпадающего списка

2. Тест кейс:
- Авторизоваться в системе, как администратор
- Перейти к странице отделов через меню
- Убедиться, что отделы отображаются без ошибок
- Ввести в поле поиска Departments название отдела
- Нажать на кнопку Search
- Убедиться, что выводятся отделы с таким названием
- Ввести в поле поиска Departments несуществующуее название
- Нажать на кнопку Search
- Убедиться, что отделы не выводятся
- Перейти на страницу отделов через меню
- Выбрать в поле поиска Status элемент Active
- Нажать на кнопку Search
- Убедиться, что выводятся отделы со статусом Active

Ожидаемый результат:

Поиск по названию работает корректно. Поиск по статусу работает корректно.

Фактический результат:

Поиск по названию и статусу выполняется без ошибок.

3. Оценка по времени:

1.5 часа

4. Начало выполнения задачи:

08.02.2023 11:30

5. Дата окончания выполнения задачи:

08.02.2023 12:38

## Задача 7: Отображение отделов в витрине.

1. Техническое задание:
- Реализовать логику отображения отделов
- Создать новую страницу отображения отделов
- Добавить ссылку на страницу отделов

Особенности:
- Отделы должны располагаться в виде колонок
- Каждый отдел должен включать в себя: Изображение, Название, Имя руководителя
- Должна присутствовать пагинация
- Ссылка должна располагаться в выпадающем списке My Account
- Продумать свой dispatch

2. Тест кейс:
- Перейти к витрине магазина
- Нажать на My Account
- Нажать на Departments
- Убедиться, что страница открывается без ошибок
- Убедиться, что отображаются Отделы
- Если отделов больше 12, нажать на 2 страницу снизу
- Убедиться в работоспособности пагинации
- Убедиться, что каждый отдел содержит: Изображение, Название, Имя руководителя (если привязан)

Ожидаемый результат:

Страница открывается без ошибок. Отображаются отделы, пагинация работает корректно. Отдел содержит название, изображение, имя руководителя (если привязан). 


Фактический результат:

Страница отделов открывается корректно, отображаются отделы, пагинация отрабатывает без ошибок. Отдел содержит название, изображение, имя руководителя (если он привязан). 

3. Оценка по времени:

3 часа

4. Начало выполнения задачи:

10.02.2023 18:00

5. Дата окончания выполнения задачи:

10.02.2023 20:49

## Задача 8: Отображение отдела.

1. Техническое задание:
- Реализовать логику отображения отдела
- Создать новую страницу отображения отдела

Особенности:
- На странице должны отображаться следующие поля: изображение, название, описание, список сотрудников, руководитель
- Список сотрудников должен включать пагинацию


2. Тест кейс:
- Перейти к витрине магазина
- Нажать на My Account
- Нажать на Departments
- Нажать на название отдела
- Убедиться, что страница отдела открывается без ошибок
- Убедиться, что отображаются данные
- Если сотрудников много, то убедиться в работоспособности пагинации

Ожидаемый результат:

Страница открывается без ошибок. Данные отображаются корректно. Работает пагинация (если сотрудников много).

Фактический результат:

Фактический результат соответствует ожидаемому.

3. Оценка по времени:

3 часа

4. Начало выполнения задачи:

11.02.2023 14:45

5. Дата окончания выполнения задачи:

11.02.2023 20:12

## Задача 9: Оформление работы.

1. Техническое задание:
- Добавить языковые переменные
- Реализовать авто-Тест
- Добавить дамп базы данных
- Добавить readme файл
- Создать Pull request

Особенности:
- В readme описать: как развернуть приложение, тест-кейсы, как запустить авто-тест

2. Тест кейс:
- Развернуть приложение, следуя указаниям из readme
- Убедиться, что приложение развернулось корректно
- Импортировать дамп базы данных
- Убедиться, что дамп базы данных импортировался без ошибок
- Запустить авто-тест, следуя указаниям из readme

Ожидаемый результат:

Приложение развернулось корректно, дамп базы данных импортировался корректно. Приложение работает и авто-тест прошел успешно.

Фактический результат:

Фактический результат соответствует ожидаемому.

3. Оценка по времени:

6 часов

4. Начало выполнения задачи:

18.02.2023 13:00

5. Дата окончания выполнения задачи:

18.02.2023 18:57